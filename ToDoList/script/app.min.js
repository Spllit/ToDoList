const input=document.getElementById("inp"),button=document.querySelector(".add__btn"),activeCardHolder=document.querySelector(".complete__body"),tasks=document.getElementsByClassName("task"),btnDelete=document.getElementsByClassName("task__delete"),checkbox=document.getElementsByClassName("checkbox__input");let activeTasks=[];function updateLocalStorage(e,t){localStorage.setItem(e,JSON.stringify(t))}function getLocalData(e){return localStorage.key||(e=[]),JSON.parse(localStorage.getItem(e))}function completeChecker(){for(let e=0;e<checkbox.length;e++)checkbox[e].addEventListener("click",()=>{activeTasks[e].completed=!activeTasks[e].completed,updateLocalStorage("activeTasks",activeTasks),getComplete(e)})}function fillTaskCard(e,t){e.innerHTML="",getLocalData(t).forEach((a,c)=>{e.innerHTML+=createTemplate(a),getLocalData(t)[c].completed?(tasks[c].classList.add("task__checked"),checkbox[c].setAttribute("checked","checked"),tasks[c].children[1].style.textDecoration="line-through"):(tasks[c].classList.remove("task__checked"),checkbox[c].removeAttribute("checked","checked"),tasks[c].children[1].style.textDecoration="none")}),completeChecker(),deleteListener()}function getComplete(e){activeTasks[e].completed?(tasks[e].classList.add("task__checked"),tasks[e].setAttribute("checked","checked"),tasks[e].children[1].style.textDecoration="line-through"):(tasks[e].classList.remove("task__checked"),tasks[e].removeAttribute("checked","checked"),tasks[e].children[1].style.textDecoration="none")}function deleteListener(){for(let e=0;e<btnDelete.length;e++)btnDelete[e].addEventListener("click",()=>{deleteTask(e)})}function deleteTask(e){activeTasks.splice(e,1),updateLocalStorage("activeTasks",activeTasks),fillTaskCard(activeCardHolder,"activeTasks")}function createTemplate(e){return`\n    <div class="task">\n        <div class="task__checkbox-wrapper">\n            <label class="task__checkbox checkbox">\n                <input type="checkbox" class="checkbox__input">\n                <span class="checkbox__span"></span>\n            </label>\n        </div>\n        <div class="task__description">\n        ${e.description}\n        </div>\n        <button class="task__delete btn ">                            \n        </button>\n    </div>\n    `}button.addEventListener("click",()=>{input.value.length>0&&(activeTasks.push(new Task(input.value,!1)),console.log(activeTasks),updateLocalStorage("activeTasks",activeTasks),fillTaskCard(activeCardHolder,"activeTasks"),input.value="")});